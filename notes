git update-index --skip-worktree secret.properties
git update-index --no-skip-worktree secret.properties

afterEvaluate {
    //generate a file named fabric.properties with the api key and api secret when the project is being compiled
    //edit gradle.properties to include your api key and secret under the name API_KEY and API_SECRET, respectively
    initFabricProperties()
}

def initFabricProperties() {
    def propertiesFile = file('fabric.properties')
    if (!propertiesFile.exists()) {
        def commentMessage = "This is autogenerated fabric property from system environment to prevent key from being committed to source control."
        ant.propertyfile(file: "fabric.properties", comment: commentMessage) {
            entry(key: "apiSecret", value: API_SECRET)
            entry(key: "apiKey", value: API_KEY)
        }
    }
}